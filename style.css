/* --- Hex-Ribbon background (fits your theme variables) --- */
.bg-hex-ribbon {
  position: relative;
  isolation: isolate;
  overflow: hidden;
  background: var(--bg);
}

/* diagonal crimson ribbons */
.bg-hex-ribbon::before,
.bg-hex-ribbon::after {
  content:"";
  position:absolute;
  inset:-20% -10%;
  z-index:-2;
  background:
    linear-gradient(135deg,
      transparent 22%,
      color-mix(in oklab, #7a0b0b 92%, var(--bg)) 22% 38%,
      #a51212 38% 48%,
      color-mix(in oklab, #7a0b0b 92%, var(--bg)) 48% 62%,
      transparent 62%);
  transform: translateY(-10%);
  opacity:.95;
}
.bg-hex-ribbon::after{
  inset: 20% -10% -25% -10%;
  background:
    linear-gradient(135deg,
      transparent 18%,
      #7a0b0b 18% 35%,
      #a51212 35% 45%,
      #7a0b0b 45% 60%,
      transparent 60%);
  transform: translateY(10%);
  z-index:-3;
  opacity:.9;
}

/* faint architectural texture */
.bg-hex-ribbon .bg-lines{
  position:absolute; inset:0; z-index:-1; pointer-events:none;
  background:
    linear-gradient( 24deg, color-mix(in oklab,var(--ink) 6%, transparent) 1px, transparent 1px) 0 0/22px 22px,
    linear-gradient(-24deg, color-mix(in oklab,var(--ink) 4%, transparent) 1px, transparent 1px) 0 0/26px 26px;
  opacity:.06;
}

/* dotted accent */
.bg-hex-ribbon .dots{
  position:absolute; width:90px; height:90px; pointer-events:none; opacity:.25;
  background:
    radial-gradient(currentColor 2px, transparent 2px) 0 0/18px 18px;
  color: color-mix(in oklab, var(--ink) 70%, var(--bg));
  filter: contrast(120%);
}
.bg-hex-ribbon .dots.top{ top:14px; right:4%; }
.bg-hex-ribbon .dots.mid{ bottom:22%; left:46%; }

/* hex photo cluster (no HTML img styling needed) */
.hex-cluster{
  position:absolute; right:4%; top:14%;
  width:min(560px, 42vw); aspect-ratio: 1/0.82; /* footprint for cluster */
  pointer-events:none;  /* purely decorative */
}

.hex{
  --img: none;
  position:absolute; inset:auto;
  width:42%; aspect-ratio: 1/1;
  clip-path: polygon(25% 6%, 75% 6%, 100% 50%, 75% 94%, 25% 94%, 0 50%);
  background: var(--img) center/cover no-repeat, var(--bg-soft);
  box-shadow:
    0 0 0 10px #ffffff,        /* white inner border */
    0 0 0 18px #7a0b0b,        /* crimson outer frame */
    0 18px 28px rgba(0,0,0,.35); /* drop shadow */
  border-radius: 14px; /* soft edges for anti-alias */
}

/* sizes & positions (like the screenshot) */
.hex-lg{ left:22%; top:0%;   z-index:3; }
.hex-md{ right:0%; top:38%;  width:36%; z-index:2; }
.hex-sm{ right:14%; top:18%; width:30%; z-index:2; }

/* keep your content legible on busy bgs */
.bg-hex-ribbon .explain,
.bg-hex-ribbon figure,
.bg-hex-ribbon .card{
  backdrop-filter: saturate(1.05) blur(0px);
  background: color-mix(in oklab, var(--bg-soft) 88%, transparent);
  border: 1px solid color-mix(in oklab, var(--ink) 12%, transparent);
}

/* make big loose <img> behave if someone drops one in */
.bg-hex-ribbon img:not(figure img){
  max-width: clamp(320px, 46vw, 520px);
  width:100%; height:auto; display:block;
  border-radius:12px; border:1px solid var(--border);
  background:var(--bg-soft); margin:12px 0;
}

/* responsive tweaks */
@media (max-width: 980px){
  .hex-cluster{ position:relative; width:100%; margin:16px 0 0; }
  .hex{ position:relative; left:auto; right:auto; top:auto; margin:10px 10px 0 0; }
  .hex-lg,.hex-md,.hex-sm{ width:45%; }
  .bg-hex-ribbon .dots{ display:none; }
}
